

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Analysis on California Motor Vehicle Traffic Collisions during 2019 &#8212; Stat 159 Final Project</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'main';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Do the Number of Car Crashes in California Differ by Day of Month?" href="analysis/day_of_month.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="#">
  
  
  
  
  
    <p class="title logo__title">Stat 159 Final Project</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1 current active">
                <a class="reference internal" href="#">
                    Analysis on California Motor Vehicle Traffic Collisions during 2019
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Analysis Notebooks</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="analysis/day_of_month.html">Do the Number of Car Crashes in California Differ by Day of Month?</a></li>
<li class="toctree-l1"><a class="reference internal" href="analysis/time_of_day.html">Are there patters in car crash numbers by hour of day and day of week?</a></li>
<li class="toctree-l1"><a class="reference internal" href="analysis/by_county.html">Are there differences in car crash rates by county?</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/UCB-stat-159-s23/project-Group27/main?labpath=main.ipynb/v2/gh/UCB-stat-159-s23/project-Group27/gh-pages?urlpath=lab/tree/main.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onBinder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
  </ul>
</div>



<a href="https://github.com/UCB-stat-159-s23/project-Group27" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/main.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Analysis on California Motor Vehicle Traffic Collisions during 2019</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#section-1-do-the-number-of-car-crashes-in-california-differ-by-day-of-month">Section 1: Do the Number of Car Crashes in California Differ by Day of Month?</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motivation">Motivation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#some-initial-attempt-to-visualize">1.1 Some initial attempt to visualize</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seasonality-analysis-for-day-of-month">1.2 Seasonality Analysis for Day of Month</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seasonality-analysis-by-month">1.3 Seasonality Analysis by Month</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusions">Conclusions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#section-2-do-the-number-of-car-crashes-in-california-differ-by-time-of-day">Section 2: Do the Number of Car Crashes in California Differ by Time of Day?</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#comparing-daily-trends">Comparing Daily Trends</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Conclusions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#section-3-geographical-factor-analysis-locations-population">Section 3: Geographical Factor Analysis - Locations &amp; Population</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#collision-count-by-county">3.1 Collision Count by County</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#collision-frequency-by-county">3.2 Collision Frequency by County</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">3.2 Collision Frequency by County</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bonus-section-alcohol">Bonus Section: Alcohol</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#author-contributions">Author Contributions</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="analysis-on-california-motor-vehicle-traffic-collisions-during-2019">
<h1>Analysis on California Motor Vehicle Traffic Collisions during 2019<a class="headerlink" href="#analysis-on-california-motor-vehicle-traffic-collisions-during-2019" title="Permalink to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.core.display</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">st</span>

<span class="c1"># our own package</span>
<span class="kn">from</span> <span class="nn">analysis.analysis</span> <span class="kn">import</span> <span class="n">day_of_month</span>
<span class="kn">from</span> <span class="nn">analysis.analysis</span> <span class="kn">import</span> <span class="n">time_of_day</span>

<span class="c1"># relative path to data &amp; figures directory</span>
<span class="kn">from</span> <span class="nn">analysis.paths</span> <span class="kn">import</span> <span class="n">DATA_PATH</span><span class="p">,</span> <span class="n">FIGURES_PATH</span>
</pre></div>
</div>
</div>
</div>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">#</a></h2>
<p>This study analyzes the potential trends in car collision to inform further research. We are interested to see if different factors such as day of month, time of day, location, and population each has impact on the count, frequency, and extent to which traffic collisions happen. The data used is from the California Highway Patrol SWITRS 2019 Report on Fatal and Injury Motor Vehicle Traffic Collisions. The dataset contains a variety of information and we will only be working with a selected subset of it. For information about the complete dataset, please refer to <a class="reference external" href="https://www.chp.ca.gov/programs-services/services-information/switrs-internet-statewide-integrated-traffic-records-system/switrs-2019-report">this</a>.</p>
</section>
<section id="section-1-do-the-number-of-car-crashes-in-california-differ-by-day-of-month">
<h2>Section 1: Do the Number of Car Crashes in California Differ by Day of Month?<a class="headerlink" href="#section-1-do-the-number-of-car-crashes-in-california-differ-by-day-of-month" title="Permalink to this heading">#</a></h2>
<section id="motivation">
<h3>Motivation<a class="headerlink" href="#motivation" title="Permalink to this heading">#</a></h3>
<p>We want to examine whether or not there is some sort of seasonality with regards to car crashes; that is, is there a difference in the level of car crashes based on the day of the month (i.e., does the beginning of the month have more car crashes?), or based on the month of the year (i.e., do winter months correspond to more car crashes)?</p>
<p>This could provide some insight into whether or not some trends exist that could explain any underlying differences in the average number of car crashes. For instance, are winter months more dangerous due to colder weather?</p>
</section>
<section id="some-initial-attempt-to-visualize">
<h3>1.1 Some initial attempt to visualize<a class="headerlink" href="#some-initial-attempt-to-visualize" title="Permalink to this heading">#</a></h3>
<p>Our first attempted to visualize the data was by stuffing everything on a graph. We plotted the number of collisions that happened on each day of a month for all 12 months on a single line plot, as shown below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;figures/fatal_crashes_by_day_of_month.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/de5f0f8e41cf7d5f5bb0a74c734bbc4eeba9e5ee4b33f5ed34e4c2744526f231.png" src="_images/de5f0f8e41cf7d5f5bb0a74c734bbc4eeba9e5ee4b33f5ed34e4c2744526f231.png" />
</div>
</div>
<p>As we can see, our data is quite messy when plotted as is! This is a big reason why we want to group our data and use a difference in means calculation.</p>
</section>
<section id="seasonality-analysis-for-day-of-month">
<h3>1.2 Seasonality Analysis for Day of Month<a class="headerlink" href="#seasonality-analysis-for-day-of-month" title="Permalink to this heading">#</a></h3>
<p>Next, we tried to improve and took a step further by analyzing the seasonality of the colission count. We first examine the seasonality based on day of month.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;figures/avg_fatal_crashes_by_day_of_month.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/b840c77c49176d6479e304d2f5f91d17ea8a7d587baa10a395d78c7a0bd23154.png" src="_images/b840c77c49176d6479e304d2f5f91d17ea8a7d587baa10a395d78c7a0bd23154.png" />
</div>
</div>
<p>To decide whether or not the means of each day of the month’s car crashes are different, we can employ the Kruskal-Wallis test. The Kruskal-Wallis test is a nonparametric test–meaning we make no assumptions about the distributions of our observations–that allows us to test if the means of each of our groups are the same. The only assumptions made with the Kruskal-Wallis test is that we have independent observations; that is, car crashes are independent of one another. For the most part, this seems like a reasonable assumption, considering that a car crash happening somewhere in LA doesn’t affect one in SF. Naturally, there are exceptions (i.e., a pileup), but we will consider this assumption on the macro scale to be feasible.</p>
<p><span class="math notranslate nohighlight">\(H_0\)</span>: The population mean of each group is the same (the day of month doesn’t change the number of car crashes)<br>
<span class="math notranslate nohighlight">\(H_1\)</span>: The population mean of each group is different (the day of month does change the number of car crashes)</p>
<p>With a p-value of 0.456, we fail to reject our null hypothesis, which means that we believe that our means are the same, and that the day of month doesn’t change the number of car crashes.</p>
</section>
<section id="seasonality-analysis-by-month">
<h3>1.3 Seasonality Analysis by Month<a class="headerlink" href="#seasonality-analysis-by-month" title="Permalink to this heading">#</a></h3>
<p>We now examine whether or not there is a difference based on the month of the year.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;figures/avg_fatal_crashes_per_month.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/4920b8248537a32be8c317fd636aea7488bd648cd7d9812ee104e38ce396427a.png" src="_images/4920b8248537a32be8c317fd636aea7488bd648cd7d9812ee104e38ce396427a.png" />
</div>
</div>
<p>Again, we will run the Kruskal-Wallis test for differences of means since we are operating under the same assumptions as previously outlined.</p>
<p>With a p-value of 0.443, we fail to reject our null hypothesis, which means that we believe that our means are the same, and that the month of year doesn’t change the number of car crashes.</p>
</section>
</section>
<section id="conclusions">
<h2>Conclusions<a class="headerlink" href="#conclusions" title="Permalink to this heading">#</a></h2>
<p>We showed there is no seasonality trend for day of month and month of year when it comes to car crashes. To see any type of seasonality trend, we would likely need to observe more granular data (perhaps day of week or time of day).</p>
</section>
<section id="section-2-do-the-number-of-car-crashes-in-california-differ-by-time-of-day">
<h2>Section 2: Do the Number of Car Crashes in California Differ by Time of Day?<a class="headerlink" href="#section-2-do-the-number-of-car-crashes-in-california-differ-by-time-of-day" title="Permalink to this heading">#</a></h2>
<p>We wanted to examine the effects of time on the number of car crashes in California. First, we analyze the data by hour of day to see if there are common trends that we can see for the number of fatal crashes. We will also look at the injury crashes based on the hour of day and day of week. It would be unsurprising to see peaks during certain hours of the day due to environmental circumstances. Let us first see what hours of the day may lead to more crashes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;figures/avg_fatal_crashes_by_hour.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/f78d65f1e0adef8b1732e6ce64f7c19cbe13d5d1c70e5fd344d7b0bd801aaaed.png" src="_images/f78d65f1e0adef8b1732e6ce64f7c19cbe13d5d1c70e5fd344d7b0bd801aaaed.png" />
</div>
</div>
<p>Looking at the graph above, we see that the peak number of fatal crashes is late at night near 9:00 PM, which could be the result of reckless driving during the night when people may have a harder time seeing, excessive speeding, or drowsy driving.</p>
<p>The lowest peak in the graph lies around 9:00 AM, which could be the result of traffic jams where people are unable to drive recklessly or quickly. Therefore, the number of injury crashes could be higher than the number of fatal crashes.</p>
<p>Now, we will look at the number of injury crashes by hour of day and day of week. We may see similar patterns in the graph with the number of fatal crashes for the hour of day. This could be the result of the aforementioned conditions where there is more reckless driving during the night. As for the day of the week, there could be less injury crashes on the weekend as people may be less tired from waking up early or driving back late from work.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;figures/injury_crashes_by_hour_and_day_of_week.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/3abf47da50d8953c63db30b158ac867f1c8aebb1ec6cf9e7a832853bb3790854.png" src="_images/3abf47da50d8953c63db30b158ac867f1c8aebb1ec6cf9e7a832853bb3790854.png" />
</div>
</div>
<p>We see that weekdays have very similar patterns, with peaks at major commute times in the morning at around 7-8 AM, and in the afternoon around 5 PM, which is also just the peak commute times due to people’s 9-5 jobs. However, we notice that Mondays and Fridays seem to have lower number of injury crashes in the morning, perhaps because there is less traffic closer to the weekend. Friday also seems to have more crashes in the afternoon, which could be due to drivers’ fatigue or rush to get home early for the weekend.</p>
<p>The weekend injury crashes pattern also seems to reflect the average person’s travel patterns. It seems most people go out later and return home later on weekends, but on average there seem to be fewer crashes since there are fewer cars on the road.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;figures/injury_vs_fatal_hourly.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/0c1af68ffea813ba0333e53c84813b804a416503a16ff84f0e5b58bf877441ad.png" src="_images/0c1af68ffea813ba0333e53c84813b804a416503a16ff84f0e5b58bf877441ad.png" />
</div>
</div>
<p>Interestingly, we see that fatal crashes and injury crashes do not have peaks at the same time. Injury crashes seem to occur around peak commute times, but fatal crashes are slightly offset from these peaks (earlier in the morning, and later in the afternoon). This is likely because heavy traffic jams and slow speeds make it more unlikely that a crash would result in a fatality.</p>
<section id="comparing-daily-trends">
<h3>Comparing Daily Trends<a class="headerlink" href="#comparing-daily-trends" title="Permalink to this heading">#</a></h3>
<p>We will now use a Chi-Square test to compare crash patterns as a function of time-of-day, between different days of the week.</p>
<p>First, we will look at the injury crashes on Saturday and Sunday as well as Tuesday and Wednesday to see if there is a large difference in patterns.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;figures/hourly_injury_saturday_vs_sunday.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/fc1424dfd9148a3989339d114148389b6856677220b60cfc8a09c8c30467bfca.png" src="_images/fc1424dfd9148a3989339d114148389b6856677220b60cfc8a09c8c30467bfca.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;figures/hourly_injury_tuesday_vs_wednesday.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/96c5925ebaafd83589868bacb693a69042472183c0c58e6d6851fd88bfe8747e.png" src="_images/96c5925ebaafd83589868bacb693a69042472183c0c58e6d6851fd88bfe8747e.png" />
</div>
</div>
<p>We can clearly see that there is a difference between the pattern of injury crashes on Saturday and Sunday. The higher number of injury crashes on Saturday versus Sunday could result from more traveling and cars on the streets during the first day of the weekend whereas most people would spend their Sunday relaxing at home.</p>
<p>From the graph right above, there does not seem to be a significant difference between the pattern for injury crashes on Tuesday and Wednesday. Tuesday and Wednesday also seem to have similar patterns in for the number of injury crashes for the hour of day.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;figures/hourly_fatal_saturday_vs_wednesday.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/c4669094369b4fadb88ae2d15d197bc541f1baaa89f5ab2c5fe32ee2ae1b7c05.png" src="_images/c4669094369b4fadb88ae2d15d197bc541f1baaa89f5ab2c5fe32ee2ae1b7c05.png" />
</div>
</div>
<p>Looking at Wednesday and Saturday’s patterns, we see that there is a significant difference in the expected versus actual data. In addition, each day’s patterns are very different from one another. There would be differences in traffic patterns during the weekday and the weekend, so this is not an unexpected outcome. For instance, there may be more people traveling later in the night on the weekend that results to a higher number of crashes.</p>
</section>
</section>
<section id="id1">
<h2>Conclusions<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h2>
<p>Based on the hour of day analysis, we see that there is a common trend of high peaks of fatal crashes during the nighttime. However, for injury crashes, the cases seem to lie around traffic hour times. We can see this clearly through the Distribution of Injury and Fatal Crashes by Hour of Day.</p>
<p>Based on the following analysis above, using a significance level of <span class="math notranslate nohighlight">\(\alpha=0.05\)</span>, we find that there is a significant difference between the pattern for injury crashes on Saturday and Sunday, but not a significant difference in the pattern between Tuesday and Wednesday. We also find significant difference between Tuesday and Thursday’s patterns.</p>
<p>For fatal crashes, we once again find no signficant difference between Tuesday and Wednesday patterns. But we do find a difference between Saturday and Wednesday. Since there are fewer fatal crashes than injury crashes, we do seem to see slightly higher p-values.</p>
</section>
<section id="section-3-geographical-factor-analysis-locations-population">
<h2>Section 3: Geographical Factor Analysis - Locations &amp; Population<a class="headerlink" href="#section-3-geographical-factor-analysis-locations-population" title="Permalink to this heading">#</a></h2>
<p>Next, we examined the impact of some geographical factors on traffic collisions. Given that our dataset contains plenty of county-level data on traffic collisions statistics, we used the python <code class="docutils literal notranslate"><span class="pre">plotly</span></code> package to create a few choropleth maps to illustrate how different metrics distribute across different counties in California.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_choroplethmap</span><span class="p">(</span><span class="n">counties</span><span class="p">,</span> <span class="n">fips</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">value_min</span><span class="p">,</span> <span class="n">value_max</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">title</span><span class="p">):</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Choroplethmapbox</span><span class="p">(</span><span class="n">geojson</span><span class="o">=</span><span class="n">counties</span><span class="p">,</span> <span class="n">locations</span><span class="o">=</span><span class="n">fips</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="n">value</span><span class="p">,</span>
                                    <span class="n">colorscale</span><span class="o">=</span><span class="s2">&quot;Viridis&quot;</span><span class="p">,</span> <span class="n">zmin</span><span class="o">=</span><span class="n">value_min</span><span class="p">,</span> <span class="n">zmax</span> <span class="o">=</span> <span class="n">value_max</span><span class="p">,</span>
                                    <span class="n">marker_opacity</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">marker_line_width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> 
                                    <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">))</span>

    <span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">mapbox_style</span><span class="o">=</span><span class="s2">&quot;carto-positron&quot;</span><span class="p">,</span>
                      <span class="n">mapbox_zoom</span><span class="o">=</span><span class="mf">4.3</span><span class="p">,</span> <span class="n">mapbox_center</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;lat&quot;</span><span class="p">:</span> <span class="mf">37.5</span><span class="p">,</span> <span class="s2">&quot;lon&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">120</span><span class="p">})</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">margin</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;r&quot;</span><span class="p">:</span><span class="mi">150</span><span class="p">,</span><span class="s2">&quot;t&quot;</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="s2">&quot;l&quot;</span><span class="p">:</span><span class="mi">150</span><span class="p">,</span><span class="s2">&quot;b&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span> 
                      <span class="n">title</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span><span class="n">title</span><span class="p">})</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load in the pandas dataframe generated in the County_Analysis Notebook</span>
<span class="n">county_data_2019</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/county_data_2019.csv&quot;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;fips&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">},</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Load in the json object that stores geometrical shape of each county</span>
<span class="n">counties</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data/CA-flips.json&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p>Displayed below is the first 10 rows of the main dataframe that contains all of the county-level data that this part of the analysis depends on. The dataframe was collected in 2019. Each row of the dataframe corresponds to a county in California county (58 in total). Here’s an overview of what each column represents:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">County</span></code>: name of the county</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fips</span></code>: the fips code that uniquely identify each county in the US</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Population</span></code>: the population of the county in 2019</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Total</span> <span class="pre">Crashes</span></code>: the total number of traffic collisions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Total</span> <span class="pre">Fatal</span></code>: the number of people killed in collisions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Total</span> <span class="pre">Injury</span></code>: the number of people injured in collisions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Alcohol</span> <span class="pre">Involved</span> <span class="pre">Crashes</span></code>: the number of alcohol-involved collisions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Alcohol</span> <span class="pre">Involved</span> <span class="pre">Fatal</span></code>: the number of people killed in alcohol-involved collisions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Alcohol</span> <span class="pre">Involved</span> <span class="pre">Injury</span></code>: the number of people injured in alcohol-involved collisions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Crashes</span> <span class="pre">per</span> <span class="pre">1000</span> <span class="pre">capita</span></code>: the number of collisions per 1000 capita</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Overall</span> <span class="pre">Fatal</span> <span class="pre">Rate</span></code>: the overall ratio of people killed to total number of collisions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Alcohol</span> <span class="pre">Involved</span> <span class="pre">Fatal</span> <span class="pre">Rate</span></code>: the overall ratio of people killed to total number of collisions</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Display the first 10 rows of the county dataset</span>
<span class="n">county_data_2019</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>County</th>
      <th>fips</th>
      <th>Population</th>
      <th>Total Crashes</th>
      <th>Total Fatal</th>
      <th>Total Injury</th>
      <th>Alcohol Involved Crashes</th>
      <th>Alcohol Involved Fatal</th>
      <th>Alcohol Involved Injury</th>
      <th>Crashes per 1000 capita</th>
      <th>Overall Fatal Rate</th>
      <th>Alcohol Involved Fatal Rate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Alameda</td>
      <td>06001</td>
      <td>1668965</td>
      <td>22768</td>
      <td>96</td>
      <td>10441</td>
      <td>469</td>
      <td>28</td>
      <td>655</td>
      <td>13.641988</td>
      <td>0.421644</td>
      <td>5.970149</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Alpine</td>
      <td>06003</td>
      <td>1123</td>
      <td>77</td>
      <td>2</td>
      <td>66</td>
      <td>1</td>
      <td>0</td>
      <td>4</td>
      <td>68.566340</td>
      <td>2.597403</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Amador</td>
      <td>06005</td>
      <td>37724</td>
      <td>521</td>
      <td>16</td>
      <td>276</td>
      <td>29</td>
      <td>4</td>
      <td>38</td>
      <td>13.810837</td>
      <td>3.071017</td>
      <td>13.793103</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Butte</td>
      <td>06007</td>
      <td>214532</td>
      <td>2226</td>
      <td>34</td>
      <td>1262</td>
      <td>130</td>
      <td>9</td>
      <td>143</td>
      <td>10.376074</td>
      <td>1.527403</td>
      <td>6.923077</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Calaveras</td>
      <td>06009</td>
      <td>44403</td>
      <td>598</td>
      <td>11</td>
      <td>305</td>
      <td>44</td>
      <td>4</td>
      <td>45</td>
      <td>13.467558</td>
      <td>1.839465</td>
      <td>9.090909</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Colusa</td>
      <td>06011</td>
      <td>22045</td>
      <td>352</td>
      <td>12</td>
      <td>205</td>
      <td>22</td>
      <td>1</td>
      <td>21</td>
      <td>15.967340</td>
      <td>3.409091</td>
      <td>4.545455</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Contra Costa</td>
      <td>06013</td>
      <td>1147269</td>
      <td>12195</td>
      <td>77</td>
      <td>5982</td>
      <td>383</td>
      <td>27</td>
      <td>492</td>
      <td>10.629591</td>
      <td>0.631406</td>
      <td>7.049608</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Del Norte</td>
      <td>06015</td>
      <td>27207</td>
      <td>285</td>
      <td>11</td>
      <td>217</td>
      <td>20</td>
      <td>1</td>
      <td>19</td>
      <td>10.475245</td>
      <td>3.859649</td>
      <td>5.000000</td>
    </tr>
    <tr>
      <th>8</th>
      <td>El Dorado</td>
      <td>06017</td>
      <td>188818</td>
      <td>1644</td>
      <td>29</td>
      <td>861</td>
      <td>96</td>
      <td>11</td>
      <td>103</td>
      <td>8.706797</td>
      <td>1.763990</td>
      <td>11.458333</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Fresno</td>
      <td>06019</td>
      <td>1018437</td>
      <td>7848</td>
      <td>135</td>
      <td>4247</td>
      <td>297</td>
      <td>34</td>
      <td>305</td>
      <td>7.705926</td>
      <td>1.720183</td>
      <td>11.447811</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<section id="collision-count-by-county">
<h3>3.1 Collision Count by County<a class="headerlink" href="#collision-count-by-county" title="Permalink to this heading">#</a></h3>
<p>Firstly, we think it would be nice to get a general idea of the geographical distribution of traffic collisions across the counties. The choroplethmap below displays the total number of collisions that happened in each county in 2019.</p>
<p><strong>IMPORTANT: Uncomment the commented code to generate the more interactive plot!!!</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># IMPORTANT: Comment and Run the following code for the interactive plot</span>
<span class="c1"># plot_choroplethmap(counties=counties, </span>
<span class="c1">#                    fips=county_data_2019[&quot;fips&quot;], </span>
<span class="c1">#                    value=county_data_2019[&quot;Total Crashes&quot;].tolist(), </span>
<span class="c1">#                    value_min=0, </span>
<span class="c1">#                    value_max=20000, </span>
<span class="c1">#                    text=county_data_2019[&quot;County&quot;].tolist(), </span>
<span class="c1">#                    title=&quot;Collision Count by County in California&quot;)</span>
<span class="n">Image</span><span class="p">(</span><span class="s2">&quot;figures/choro3_1.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/a78243430815a79792f870ddfdd0ced8b14bf71faa47ff47e1aa2c8ab8ed6a59.png" src="_images/a78243430815a79792f870ddfdd0ced8b14bf71faa47ff47e1aa2c8ab8ed6a59.png" />
</div>
</div>
<p>Looking at the plot, the number of collisions tend to be higher in states with larger population. This makes sense because larger population usually means larger driving population, which then leads to more accidents. This is illustrated by the scatter plot below, which plots the log of collision count against the log of population for each county. As earlier speculated, there’s a clear positive correlation between the two.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;figures/scatter3_1.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/cee38741db35334f71ec012999e6f3f6846e01f28e7a6d4b992530d33b332a08.png" src="_images/cee38741db35334f71ec012999e6f3f6846e01f28e7a6d4b992530d33b332a08.png" />
</div>
</div>
</section>
<section id="collision-frequency-by-county">
<h3>3.2 Collision Frequency by County<a class="headerlink" href="#collision-frequency-by-county" title="Permalink to this heading">#</a></h3>
<p>Since it’s expected for total collision count to go up as population increases, we wanted to take away the effect of population. As a result, we created a second choroplethmap to show the the collision frequency of each county, with frequency defined as the <strong>number of collision per 1000 capita</strong> in each county.</p>
<p><strong>IMPORTANT: Uncomment the commented code to generate the more interactive plot!!!</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># IMPORTANT: Comment and Run the following code for the interactive plot</span>
<span class="c1"># plot_choroplethmap(counties=counties, </span>
<span class="c1">#                    fips=county_data_2019[&quot;fips&quot;], </span>
<span class="c1">#                    value=county_data_2019[&quot;Crashes per 1000 capita&quot;].tolist(), </span>
<span class="c1">#                    value_min=5, </span>
<span class="c1">#                    value_max=20, </span>
<span class="c1">#                    text=county_data_2019[&quot;County&quot;].tolist(), </span>
<span class="c1">#                    title=&quot;Collision Count per 1000 Capita by County in California&quot;)</span>
<span class="n">Image</span><span class="p">(</span><span class="s2">&quot;figures/choro3_2.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/9f1ff520fe6149de3c43b9465e586b273048f8e09406b504ca838217e3adf492.png" src="_images/9f1ff520fe6149de3c43b9465e586b273048f8e09406b504ca838217e3adf492.png" />
</div>
</div>
<p>Surprisingly, the distribution of collision frequency is quite different from that of the collision count. We can see that the high-population counties no longer stand out in this plot, and high frequencies tend to have shifted towards the central and even northern counties. However, the choroplethmap is not exactly clear on the underlying pattern, so we further plotted the relationship between population and collision frequency in a scatter plot, as shown below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;figures/scatter3_2.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/682f844b5a25deddbcc16c2bbb8dee4fb2f497b6d2666fdb45672aceba26540f.png" src="_images/682f844b5a25deddbcc16c2bbb8dee4fb2f497b6d2666fdb45672aceba26540f.png" />
</div>
</div>
<p>In fact, we can see that population and collision frequency are negatively correlated, which is the exact opposite of what we initially expected! We would naturally think more densely populated area will have higher chance of collisions but apparently this is not the case. One of the possible explanation of this phenomenon could be that in densely populated regions people are forced to drive slower while in sparsely populated areas people will drive more recklessly because there are less cars on the road.</p>
</section>
<section id="id2">
<h3>3.2 Collision Frequency by County<a class="headerlink" href="#id2" title="Permalink to this heading">#</a></h3>
<p>Following up on the collision frequency of each county, we decided to further examined how population relates to how fatal the collisions are. Below is a third choroplethmap on the fatal rate of collision in each county, where the <strong>fatal rate is calculated by dividing the number of people killed in collision in each county by the total number of collisions that happened in the county</strong>.</p>
<p><strong>IMPORTANT: Uncomment the commented code to generate the more interactive plot!!!</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># IMPORTANT: Comment and Run the following code for the interactive plot</span>
<span class="c1"># plot_choroplethmap(counties=counties, </span>
<span class="c1">#                    fips=county_data_2019[&quot;fips&quot;], </span>
<span class="c1">#                    value=county_data_2019[&quot;Overall Fatal Rate&quot;].tolist(), </span>
<span class="c1">#                    value_min=0, </span>
<span class="c1">#                    value_max=3, </span>
<span class="c1">#                    text=county_data_2019[&quot;County&quot;].tolist(), </span>
<span class="c1">#                    title=&quot;Collision Fatal Rate by County in California&quot;)</span>
<span class="n">Image</span><span class="p">(</span><span class="s2">&quot;figures/choro3_3.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/a461efbdfbe4780a2db87603a0b1f83ace9a35e7cad1407dabff3ff8b51da94f.png" src="_images/a461efbdfbe4780a2db87603a0b1f83ace9a35e7cad1407dabff3ff8b51da94f.png" />
</div>
</div>
<p>Once again, we do not see highly populated county such as Alameda, Los Angeles, and San Diego county stand out at all in fatal rate. Instead, similar to the collision frequency in the previous plot, sparsely populated counties tend to have more deadly collisions on average. Once again, this can come down to the difference in driving speed and driving habit between urban and rural areas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;figures/scatter3_3.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/0dd1d71632f7227e1dec1edd500caff75d38d4aeae31cbf6ab75e2df8bc37fda.png" src="_images/0dd1d71632f7227e1dec1edd500caff75d38d4aeae31cbf6ab75e2df8bc37fda.png" />
</div>
</div>
<p>As expected, the scatter plot shows a negative correlation between population and fatal rate.</p>
</section>
</section>
<section id="bonus-section-alcohol">
<h2>Bonus Section: Alcohol<a class="headerlink" href="#bonus-section-alcohol" title="Permalink to this heading">#</a></h2>
<p>Lastly, we want to address our curiosity on, although commonly agreed, how much alcohol usage actually impacts traffic collision. We created a boxplot to compare side-by-side the distribution of the overall fatal rate against the fatal rate of only alcohol-involved collisions. From the plot, we can see the overall FR averages slightly over 1 percent while its counterpart averages around 8 percent. Our result confirmed the common belief: drinking alcohol greatly increases the severity of the collisions, which makes sense because intoxicated drivers are usually way out of control of the situation.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;figures/boxplot3_4.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/74b03860f56a44ee5e42b55b0bd47ef91abdb3f7822e03a500ffa7830c5798a6.png" src="_images/74b03860f56a44ee5e42b55b0bd47ef91abdb3f7822e03a500ffa7830c5798a6.png" />
</div>
</div>
</section>
<section id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this heading">#</a></h2>
<p>We found that although collision count goes up when population increases, the actual collision frequency and severity are in fact lower in densely populated counties. Last but not least, we confirmed the common belief that alcohol usage does have a very dramatic event on worsening the damage of a collision.</p>
</section>
<section id="author-contributions">
<h2>Author Contributions<a class="headerlink" href="#author-contributions" title="Permalink to this heading">#</a></h2>
<p>Nick: Completed day_of_month analysis, made utils and testing files for both day_of_month and time_of_day analysis, wrote part of README, wrote part of environment.yml</p>
<p>Leah: created and completed the Makefile, wrote part of the README, wrote part of the day_of_month analysis, and added transitions/descriptions to Section 2 of the main notebook</p>
<p>Jeffrey: created county and alcohol analysis, compiled the main notebook</p>
<p>Janise: did part of time_of_day analysis and hypothesis testing, set up jupyterbook and binder, and environment bugfixes</p>
</section>
<div class="toctree-wrapper compound">
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="right-next"
       href="analysis/day_of_month.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Do the Number of Car Crashes in California Differ by Day of Month?</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#section-1-do-the-number-of-car-crashes-in-california-differ-by-day-of-month">Section 1: Do the Number of Car Crashes in California Differ by Day of Month?</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motivation">Motivation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#some-initial-attempt-to-visualize">1.1 Some initial attempt to visualize</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seasonality-analysis-for-day-of-month">1.2 Seasonality Analysis for Day of Month</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seasonality-analysis-by-month">1.3 Seasonality Analysis by Month</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusions">Conclusions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#section-2-do-the-number-of-car-crashes-in-california-differ-by-time-of-day">Section 2: Do the Number of Car Crashes in California Differ by Time of Day?</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#comparing-daily-trends">Comparing Daily Trends</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Conclusions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#section-3-geographical-factor-analysis-locations-population">Section 3: Geographical Factor Analysis - Locations &amp; Population</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#collision-count-by-county">3.1 Collision Count by County</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#collision-frequency-by-county">3.2 Collision Frequency by County</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">3.2 Collision Frequency by County</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bonus-section-alcohol">Bonus Section: Alcohol</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#author-contributions">Author Contributions</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jeffrey Fan, Leah Hong, Janise Liang, and Nick Melamed (Group 27)
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>